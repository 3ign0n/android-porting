########
NOTE: THIS DOCUMENT IS UNFINISHED
########

== FYI
* I tried on Mac OS X 10.6.6 and using Android PDK 2.3.3(ginger bread), later I'll try ubuntu 10.10(maverik) and Android 2.2(froyo)

* read this site first, this is really impressive
  http://.... Oops! I forgot the site URL
  
* I got original Android.mk from this thread
    Issue 1344:	PCRE library needs packaging
    http://code.google.com/p/android/issues/detail?id=1344
    for Android 2.3.3, LOCAL_MODULE_TAGS directive is missing, so I update it

== building pcre for Android emulator
* download freash tarball from pcre project site
  http://sourceforge.net/projects/pcre/files/
  and extract it into ${PDK_ROOT}/external
  At the time writing this, 8.12 is the latest version.

* run configure script. like this:
    > cd ${PDK_ROOT}/external/pcre-8.12
    > ./configure --host=arm-eabi CC=arm-eabi-gcc CPP=arm-eabi-cpp CFLAGS="-nostdlib" CPPFLAGS="-I${PDK_ROOT}/prebuilt/darwin-x86/toolchain/arm-eabi-4.4.3/lib/gcc/arm-eabi/4.4.3/include-fixed -I${PDK_ROOT}/ndk/build/platforms/android-8/arch-arm/usr/include -I${PDK_ROOT}/ndk/build/platforms/android-8/arch-x86/usr/include/sys/" LDFLAGS="-Wl,-rpath-link=${PDK_ROOT}/out/target/product/generic/system/lib -L${PDK_ROOT}/out/target/product/generic/system/lib -lc" LIBS="-lc" --without-bzip2 --enable-utf8 --enable-unicode-properties

* copy Android.mk and build it
    > cp <path to git cloned directory>/Android.mk ${PDK_ROOT}/external/pcre-8.12
    > . ${PDK_ROOT}/build/envsetup.sh
	> mm SHOW_COMMANDS=1
  you'll get the binary in ${PDK_ROOT}/out/target/products/system/lib/libpcre.so

./configure --host=arm-eabi CC=arm-eabi-gcc CPP=arm-eabi-cpp CFLAGS="-nostdlib" CPPFLAGS="-I${PDK_ROOT}/prebuilt/darwin-x86/toolchain/arm-eabi-4.4.3/lib/gcc/arm-eabi/4.4.3/include-fixed -I${PDK_ROOT}/ndk/build/platforms/android-8/arch-arm/usr/include -I${PDK_ROOT}/ndk/build/platforms/android-8/arch-x86/usr/include/sys/" LDFLAGS="-Wl,-rpath-link=${PDK_ROOT}/out/target/product/generic/system/lib -L${PDK_ROOT}/out/target/product/generic/system/lib -lc" LIBS="-lc" --without-bzip2 --enable-utf8 --enable-unicode-properties
